# =========================================================
# VARIABLES DE ENTORNO - SISTEMA STOCK COMPLETO
# =========================================================
# Variables para ambas apps: Backoffice y B2B

# =========================================================
# SUPABASE CONFIGURATION (Requerido)
# =========================================================

# URL público de tu proyecto Supabase
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co

# Clave anónima pública (safe para cliente)
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Clave de service role (SOLO SERVIDOR - NUNCA en cliente)
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# =========================================================
# AUTHENTICATION & JWT
# =========================================================

# Secret para JWT (generar con: openssl rand -hex 32)
JWT_SECRET=your_super_secure_jwt_secret_key_here_32_chars

# =========================================================
# OCR SERVICE CONFIGURATION (Backoffice)
# =========================================================

# URL del servicio OCR desplegado en Hetzner
OCR_SERVICE_URL=https://your-ocr-service.hetzner.com

# Credenciales para autenticación con servicio OCR
OCR_BASIC_AUTH_USER=ocr_production_user
OCR_BASIC_AUTH_PASSWORD=super_secure_ocr_password_2024

# Secret para validar callbacks desde OCR
OCR_CALLBACK_SECRET=secure_callback_secret_key

# =========================================================
# FEATURE FLAGS & ENVIRONMENT
# =========================================================

# Auto-aprobar clientes en desarrollo (true/false)
NEXT_PUBLIC_AUTO_APPROVE_CUSTOMERS=false

# Entorno actual
NODE_ENV=production

# =========================================================
# STORAGE & UPLOADS (Supabase Storage)
# =========================================================

# Bucket para documentos OCR
STORAGE_BUCKET_DOCUMENTS=documentos

# Bucket para imágenes de productos
STORAGE_BUCKET_PRODUCTS=productos

# Tamaño máximo de archivos en MB
MAX_FILE_SIZE_MB=50

# =========================================================
# DEVELOPMENT/DEBUG (Opcional)
# =========================================================

# Activar logs detallados
# DEBUG=true
# NEXT_PUBLIC_DEBUG_MODE=true

# =========================================================
# EJEMPLOS POR ENTORNO
# =========================================================

# --- DESARROLLO LOCAL ---
# NEXT_PUBLIC_SUPABASE_URL=http://localhost:54321
# NEXT_PUBLIC_SUPABASE_ANON_KEY=your_local_anon_key
# SUPABASE_SERVICE_ROLE_KEY=your_local_service_role_key
# JWT_SECRET=dev_jwt_secret_32_characters_long
# OCR_SERVICE_URL=http://localhost:8000
# OCR_BASIC_AUTH_USER=dev_user
# OCR_BASIC_AUTH_PASSWORD=dev_password
# OCR_CALLBACK_SECRET=dev_callback_secret
# NEXT_PUBLIC_AUTO_APPROVE_CUSTOMERS=true
# NODE_ENV=development

# --- STAGING ---
# NEXT_PUBLIC_SUPABASE_URL=https://staging-project.supabase.co
# SUPABASE_SERVICE_ROLE_KEY=staging_service_role_key...
# JWT_SECRET=staging_jwt_secret_32_chars_secure
# OCR_SERVICE_URL=https://staging-ocr.your-domain.com
# NEXT_PUBLIC_AUTO_APPROVE_CUSTOMERS=true
# NODE_ENV=staging

# --- PRODUCCIÓN ---
# NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
# SUPABASE_SERVICE_ROLE_KEY=production_service_role_key...
# JWT_SECRET=super_secure_production_jwt_secret_32_chars
# OCR_SERVICE_URL=https://ocr.your-domain.com
# NEXT_PUBLIC_AUTO_APPROVE_CUSTOMERS=false
# NODE_ENV=production

# =========================================================
# CONFIGURACIÓN VERCEL (Deploy)
# =========================================================
# 
# Para Vercel, configurar estas variables en:
# Dashboard > Project > Settings > Environment Variables
#
# REQUIRED VARIABLES (todas):
# - NEXT_PUBLIC_SUPABASE_URL
# - NEXT_PUBLIC_SUPABASE_ANON_KEY  
# - SUPABASE_SERVICE_ROLE_KEY
# - JWT_SECRET
# - OCR_SERVICE_URL
# - OCR_BASIC_AUTH_USER
# - OCR_BASIC_AUTH_PASSWORD
# - OCR_CALLBACK_SECRET
#
# OPTIONAL VARIABLES:
# - NEXT_PUBLIC_AUTO_APPROVE_CUSTOMERS (default: false)
# - MAX_FILE_SIZE_MB (default: 50)
# - STORAGE_BUCKET_DOCUMENTS (default: documentos)
# - STORAGE_BUCKET_PRODUCTS (default: productos)
#
# =========================================================

# =========================================================
# NOTAS DE SEGURIDAD
# =========================================================
#
# 🚨 CRÍTICO:
# - Nunca commitear este archivo con valores reales
# - SUPABASE_SERVICE_ROLE_KEY solo en servidor (API Routes)
# - Usar secrets managers en producción
# - Rotar claves regularmente
# 
# 🔒 RECOMENDACIONES:
# - JWT_SECRET: mínimo 32 caracteres, aleatorio
# - OCR passwords: mínimo 16 caracteres
# - Activar 2FA en Supabase y Vercel
# - Revisar logs de acceso regularmente
#
# =========================================================